// PANELS
const generated = document.getElementById('generated');
const input     = document.getElementById('input');

// BUTTONS 
const point     = document.getElementById('buttonP');
const negate    = document.getElementById('buttonN');
const backspace = document.getElementById('buttonB');
const enter     = document.getElementById('buttonR');
const numbers   = [];
for (let i = 0; i < 10; ++i) {
    numbers.push(document.getElementById(`button${i}`));
}

// VARIABLES
let a = 0;
let b = 0;

let routes = [
    { pattern: /M\/\?+/\?+/, callback: () => { generate() } }
];

function main() {
    for (let i = 0; i < 10; ++i) {
        const number = numbers[i];
        number.addEventListener('click', ev => {
            if (Number(input.textContent) === 0) {
                input.textContent = i;
            } else {
                input.textContent += i;
            }
        });
    }
    point.addEventListener('click', ev => {
        if (Number.isInteger(Number(input.textContent)) &&
            input.textContent[input.textContent.length - 1] !== '.') {
            input.textContent += '.';
        }
    });
    negate.addEventListener('click', ev => {
        input.textContent = -Number(input.textContent);
    });
    backspace.addEventListener('click', ev => {
        if (String(Math.abs(Number(input.textContent))).length < 2) {
            input.textContent = '0';
            return;
        } else {
            input.textContent = input.textContent.slice(0, -1);
        }
    });
    input.addEventListener('click', ev => {
        input.textContent = '0';
    });
    generated.addEventListener('click', reset);
    enter.addEventListener('click', check);

    reset();
}

function generateRandomNumber(length) {
    const tenth = Math.pow(10, length - 1);
    const total = tenth * 10;

    return Math.floor(Math.random() * (total - tenth) + tenth);
}


function reset(ev) {
    const parameters = location.hash.slice(2).split('/');
    console.log(parameters);
}

function check(ev) {
    if (input.textContent == (a * b)) {
        input.style.color = '#0f0';
    } else {
        input.style.color = '#f00';
    }
}

main();
